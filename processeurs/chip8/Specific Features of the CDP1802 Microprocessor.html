<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0064)http://personal.atl.bellsouth.net/lig/d/o/dogas/cosmac/note1.htm -->
<HTML><HEAD><TITLE>Untitled Document</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY bgColor=#ffffff>
<P><B><FONT size=4>Specific Features of the CDP1802 
Microprocessor</FONT></B><FONT size=4> (<FONT size=2>ref. RCA MPM-201C 
p.7</FONT>)</FONT></P>
<UL>
  <LI>static CMOS circutry, no minimum clock frequency 
  <LI>full military temperature range (-55 to +125 Celcuis) 
  <LI>high noise immunity, wide operating voltage range 
  <LI>TTL compatibility 
  <LI>single-phase clock; optional on-chip, crystal-controlled oscillator 
  <LI>simple control of reset, start, and pause 
  <LI>8-bit parallel organization with bidirectional data bus 
  <LI>built-in program load facility 
  <LI>any combination of standard RAM's and ROM's via a common interface 
  <LI>direct memory addressing up to 65,536 bytes 
  <LI>flexable programmed I/O mode 
  <LI>program interrupt mode 
  <LI>one-to-three byte instruction format with two machine cycles for each 
  instruction except <B>long-branch</B> and <B>long-skip</B> 
  <LI>91 easy to use instructions 
  <LI>16 X 16-bit matrix of registers for use as multiple program counters, data 
  pointers, or data registers </LI></UL>
<P><B>Microprocessor Package Organziation<FONT size=4> </FONT></B><FONT 
size=4>(<FONT size=2>ref. RCA MPM-201C pp.</FONT>)</FONT></P>
<BLOCKQUOTE>
  <P align=center><IMG height=330 src="Untitled Document_fichiers/pins.jpg" 
  width=439></P>
  <P>Fifteen I/O <B>control signal lines</B> are provided. Systems can use some 
  or all of these signals depending on required I/O sophistication. A three-bit 
  N code is generated by the input/output instruction. It can be use to specify 
  whether an I/O byte on the bus is meant to represent data, an I/O device 
  selection code, an I/O status code, an I/O control code, etc. Use of the N 
  code to specify an I/O device directly permits simple, inexpensive control of 
  a small number of I/O devices or modes. Use of the N code to specify the 
  meaning of the word on the data bus facilitates systems incorporating a large 
  number of I/O devices or modes.</P>
  <P>Four <B>I/O flag inputs</B> are provided. I/O devices can control these 
  inputs at any time to signal the microprocessor and can be tested with 
  instructions</P>
  <P>An <B>output line(Q)</B> provides level output controlable by Cosmac's 
  instructions</P>
  <P>A program <B>interrupt line</B> can be activated at any time by I/O circuts 
  or ignored by resetting its <B>interrupt-ebable flip-flop(IE)</B></P>
  <P>Two additional I/O lines are called <B>direct-memory-access (DMA) 
  lines</B>. Activating the DMA-in line causes an input byte to be immediately 
  stored in a memory location without intervention by the program being 
  executed.</P>
  <P>A two-bit <B>state code</B> and two<B> timing lines</B> permit 
  synchronization of I/O device circuts with internal Cosmac operating 
  cycles.</P>
  <BLOCKQUOTE>
    <P>State codes</P>
    <UL>
      <LI>(S0) fetching an instruction 
      <LI>(S1) executing an instruction 
      <LI>(S2) responding to DMA 
      <LI>(S3) responding to interrupt request 
      <P>During execution of a program, the CDP1802 generally alternates between 
      S0 and S1. Each machine cycle (S0 or S1) is internally divided into eight 
      equal time intervals. Each time interval is equivilent to one cycle. The 
      rate at which machine cycles occur is, therefore, one eigtth of the clock 
      frequency </P></LI></UL>
    <P><B>TPA</B> and <B>TPB</B> timing signals used by the memory and I/O 
    sytems</P>
    <UL>
      <LI>signal new processor state code 
      <LI>latch memory address bits 
      <LI>take memory data from the bus 
      <LI>set and reset I/O controller flip-flops </LI></UL></BLOCKQUOTE>
  <P>Eight <B>memory address lines</B></P>
  <P>A signle-phase <B>clock inpu</B>t determines operating speed. The external 
  clock may be stopped and started to synchronize the Cosmac's operation with 
  system circuts if desired. A crystal is connected between <B>XTAL</B> and 
  <B>clock input.</B></P>
  <P>The <B>clear input</B> line initializes the microprocessor, and its release 
  starts instruction execution</P>
  <P>The <B>wait</B> line suspends the CPU operation cleanly</P>
  <P>Simultanious assertion of <B>clear</B> and <B>wait</B> puts the CPU in a 
  program load mode</P></BLOCKQUOTE>
<P><B>COSMAC Architecture and Notation</B></P>
<P align=center><IMG height=401 src="Untitled Document_fichiers/1802.jpg" 
width=502></P>
<BLOCKQUOTE>
  <P>The COSMAC architecture is based on a register array comprising sixteen 
  general-purpose 16-bit <B>scratch-pad registers</B> denoted R(0...f). R(n).0 
  references the low-order byte of R(n) and R(n).1 references its high-order 
  byte</P>
  <P>Three 4-bit registers labled <B>N</B>, <B>P</B>, and <B>X</B> are used to 
  select individual 16-bit scratch-pad registers.</P>
  <P>The <B>D</B> register is similar to the accumulator found in many 
  microprocessors. The 8-bit <B>arithmetic-logic unit </B>(ALU) performs 
  arithmetic and logical operations on bytes in <B>D</B> and on the bus (from 
  memory) A single bit <B>data flag</B> (DF) indicates carrys and borrows.</P>
  <P>Register<B> A</B> is used indirectly(?) for resigter and memory transfers 
  to and from <B>D</B>. Also, scratch-pad registers are incremented and 
  decremented with only <B>A</B>'s help.</P>
  <P>An internal flip-flop <B>Q</B> can be set or reset by instructions, 
  conditionally branched upon, and is available as a microprocessor 
output.</P></BLOCKQUOTE>
<P><B>Instruction Format</B> <FONT size=4>(<FONT size=2>ref. RCA MPM-201C 
pp.</FONT>)</FONT></P>
<BLOCKQUOTE>
  <P>A one-byte instruction format is applicable for most instructions. The two 
  4-bit hex digits contained in each instruction byte are designated as <B>I</B> 
  and <B>N</B>. Most instructions are executed in two <B>machine cycles</B>. The 
  first cycle fetches the appropriate instruction digits in registers <B>I</B> 
  and <B>N</B>. The values in <B>I</B> and <B>N</B> specify to operation to be 
  performed during the second machine cycle. <B>I</B> specifies the instruction 
  type and depending upon the instruction, <B>N</B> either designates a 
  scratch-pad register, or acts as a special code. Two-byte instructions follow 
  [I|N][operand OR address]. Three-byte instructions follow [I|N][high 
  address][low address] or [I|N][skipped byte 1][skipped byte 2] for long-skip 
  instructions.</P>
  <P>In the COSMAC architecture any one of the scratch-pad registers can be used 
  as a <B>program counter</B>. The value of the hex digit contained in the 4-bit 
  register <B>P</B> determines which scratch-pad register is currently being 
  used as the program counter.</P></BLOCKQUOTE>
<P><B>Addressing Modes</B></P>
<UL>
  <LI>In <B>register addressing</B>, the address of the operand is contained in 
  the four lower-order bits, the N-field of the instruction byte 
  <LI><B>Register-indirect</B> addressing utilizes the N field to reference the 
  a scratch-pad containing a memory address 
  <LI>In <B>immediate addressing</B> , the operand is the byte following the 
  instruction 
  <LI>In <B>stack addressing</B>, one specific CPU register is <B>implied</B> as 
  the pointer to a LIFO stack in memory, Often, R(X) is used, and in one case 
  R(2) is used </LI></UL>
<P>The strength of the COSMAC architecture and its ability to optimize program 
size and efficiency as compared with more conventional minicomputer 
architectures, lies in these four addressing modes and the liberal number of CPU 
registers. By using stacks for working space, immediate addressing for all 
constants, register pointers for tabular and vector arrays, and the registers 
themselves for miscellaneous counters and switrches, optimal use of program 
space is made.</P></BODY></HTML>
